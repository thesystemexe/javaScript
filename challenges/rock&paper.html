<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <p>Rock Paper Scissors</p>

    <button onclick="userPick('Rock');">Rock</button>

    <button onclick=" userPick('Paper') ">Paper</button>

    <button onclick="userPick('Scissors')">Scissors</button>
    <button onclick="countResult.win=0, countResult.lose=0 , countResult.tie=0; localStorage.removeItem('store')">
      Reset
    </button>
    <script>
      // not very efficient 
      const countResult = JSON.parse(localStorage.getItem("store")) ||{
          win: 0,
          lose:0,
          tie:0,
        };


      function computerPick() {
        let computerMoves = "";
        const randomNumber = Math.random();

        if (randomNumber >= 0 && randomNumber < 1 / 3) {
          computerMoves = "Rock";
        } else if (randomNumber >= 1 / 3 && randomNumber < 2 / 3) {
          computerMoves = "Paper";
        } else if (randomNumber >= 2 / 3 && randomNumber < 1) {
          computerMoves = "Scissors";
        }
        return computerMoves;
      }

      function userPick(userChoice) {
        let result = "";
        const computerMoves = computerPick();
        if (userChoice === "Rock") {
          if (computerMoves === "Rock") {
            result = `Tie`;
          } else if (computerMoves === "Paper") {
            result = `You lose`;
          } else if (computerMoves === "Scissors") {
            result = `You win`;
          }

          if (result === "Tie") {
            countResult.tie += 1;
          } else if (result === "You lose") {
            countResult.lose += 1;
          } else {
            countResult.win += 1;
          }

          localStorage.setItem("store", JSON.stringify(countResult));

          alert(
            `Your chose rock and computer chose ${computerMoves} so ${result}\n win: ${countResult.win} lose: ${countResult.lose} tie: ${countResult.tie}`
          );
        } else if (userChoice === "Paper") {
          if (computerMoves === "Rock") {
            result = "You win";
          } else if (computerMoves === "Paper") {
            result = "Its Tie";
          } else if (computerMoves === "Scissors") {
            result = "You lose";
          }

          if (result === "Tie") {
            countResult.tie += 1;
          } else if (result === "You lose") {
            countResult.lose += 1;
          } else {
            countResult.win += 1;
          }
          localStorage.setItem("store", JSON.stringify(countResult));

          alert(
            `Your chose Paper and computer chose ${computerMoves} so ${result}\n win: ${countResult.win} lose: ${countResult.lose} tie: ${countResult.tie}`
          );
        } else if (userChoice === "Scissors") {
          if (computerMoves === "Rock") {
            result = "You lose";
          } else if (computerMoves === "Paper") {
            result = "You win";
          } else if (computerMoves === "Scissors") {
            result = "Its Tie";
          }

          if (result === "Tie") {
            countResult.tie += 1;
          } else if (result === "You lose") {
            countResult.lose += 1;
          } else {
            countResult.win += 1;
          }

          localStorage.setItem("store", JSON.stringify(countResult));

          alert(
            `Your chose Scissors and computer chose ${computerMoves} so ${result}\n win: ${countResult.win} lose: ${countResult.lose} tie: ${countResult.tie}`
          );
        }
      }
    </script>
  </body>
</html>
